---
layout: default
---

<div class="container mx-auto px-4 py-8">
  <!-- Guide Header -->
  <div class="hero bg-gradient-to-r from-primary/20 via-secondary/20 to-accent/20 rounded-lg mb-8">
    <div class="hero-content text-center py-12">
      <div class="max-w-4xl">
        <div class="badge badge-primary mb-4">Step-by-Step Guide</div>
        <h1 class="text-4xl md:text-5xl font-bold mb-4 text-primary [text-shadow:0_0_15px_currentColor]">
          {{ page.title | default: "Guide" }}
        </h1>
        {% if page.description %}
          <p class="text-lg text-base-content/80 max-w-2xl mx-auto">
            {{ page.description }}
          </p>
        {% endif %}
        <div class="flex justify-center items-center gap-4 mt-6">
          <div class="flex items-center gap-2 text-sm text-base-content/60">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <span>~15 min read</span>
          </div>
          <div class="flex items-center gap-2 text-sm text-base-content/60">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <span>Beginner Friendly</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="grid grid-cols-1 xl:grid-cols-4 gap-8">
    <!-- Table of Contents Sidebar -->
    <div class="xl:col-span-1">
      <div class="sticky top-8">
        <div class="card bg-base-200 shadow-xl border border-primary/30">
          <div class="card-body p-6">
            <h3 class="card-title text-primary mb-4 text-sm">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"/>
              </svg>
              Table of Contents
            </h3>
            <nav class="space-y-2 text-sm max-h-96 overflow-y-auto scrollbar-thin scrollbar-track-base-300 scrollbar-thumb-primary hover:scrollbar-thumb-primary-focus" id="guide-toc">
              <!-- TOC will be generated by JavaScript -->
            </nav>
            
            <!-- Progress Indicator -->
            <div class="mt-6 pt-4 border-t border-primary/20">
              <div class="flex items-center justify-between mb-2">
                <span class="text-xs text-base-content/60">Progress</span>
                <span class="text-xs text-primary" id="progress-text">0%</span>
              </div>
              <progress class="progress progress-primary w-full" id="reading-progress" value="0" max="100"></progress>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="xl:col-span-3">
      <div class="card bg-base-100 shadow-xl border border-primary/30">
        <div class="card-body p-8">
          <!-- Guide Content with Enhanced Styling -->
          <div class="guide-content prose prose-lg max-w-none">
            {{ content | markdownify }}
          </div>

          <!-- Navigation Footer -->
          <div class="divider my-8"></div>
          <div class="flex justify-between items-center">
            <div>
              {% if page.prev_guide %}
                <a href="{{ page.prev_guide | relative_url }}" class="btn btn-outline">
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                  </svg>
                  Previous
                </a>
              {% endif %}
            </div>
            <div class="text-center">
              <div class="badge badge-success">
                <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                </svg>
                Guide Complete
              </div>
            </div>
            <div>
              {% if page.next_guide %}
                <a href="{{ page.next_guide | relative_url }}" class="btn btn-primary">
                  Next
                  <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                  </svg>
                </a>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Enhanced Guide Styles -->
<style>
.guide-content h1 {
  font-size: 1.875rem;
  font-weight: 700;
  color: hsl(var(--p));
  margin-bottom: 1.5rem;
  margin-top: 0;
  scroll-margin-top: 2rem;
}

.guide-content h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: hsl(var(--p));
  margin-bottom: 1rem;
  margin-top: 2rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid hsl(var(--p) / 0.2);
  scroll-margin-top: 2rem;
}

.guide-content h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: hsl(var(--s));
  margin-bottom: 0.75rem;
  margin-top: 1.5rem;
  scroll-margin-top: 2rem;
}

.guide-content h4 {
  font-size: 1.125rem;
  font-weight: 500;
  color: hsl(var(--a));
  margin-bottom: 0.5rem;
  margin-top: 1rem;
  scroll-margin-top: 2rem;
}

.guide-content h5 {
  font-size: 1rem;
  font-weight: 500;
  color: hsl(var(--bc));
  margin-bottom: 0.5rem;
  margin-top: 0.75rem;
  scroll-margin-top: 2rem;
}

.guide-content h6 {
  font-size: 0.875rem;
  font-weight: 500;
  color: hsl(var(--bc) / 0.8);
  margin-bottom: 0.5rem;
  margin-top: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  scroll-margin-top: 2rem;
}

/* Optional: Step numbering for h2 elements - disabled by default */
/* To enable step numbering, uncomment the rules below */
/*
.guide-content {
  counter-reset: step-counter;
}

.guide-content h2:not(:first-child) {
  counter-increment: step-counter;
  position: relative;
}

.guide-content h2:not(:first-child)::before {
  content: "Step " counter(step-counter);
  @apply inline-block bg-primary text-primary-content text-sm px-3 py-1 rounded-full mr-3 font-normal;
}
*/

/* Code blocks styling */
.guide-content pre {
  @apply bg-base-200 rounded-lg p-4 my-4 overflow-x-auto text-sm;
}

.guide-content code {
  @apply bg-base-200 text-base-content px-1 py-0.5 rounded text-sm;
}

.guide-content pre code {
  @apply bg-transparent p-0;
}

/* Blockquotes for tips/warnings */
.guide-content blockquote {
  @apply border-l-4 border-info bg-info/5 p-4 my-4 text-base-content/90;
}

/* Lists - simplified */
.guide-content ul {
  @apply list-disc list-inside space-y-1 ml-4;
}

.guide-content ol {
  @apply list-decimal list-inside space-y-1 ml-4;
}

.guide-content li {
  @apply text-base-content/90;
}

/* Checklist items */
.guide-content ul li:has(input[type="checkbox"]) {
  @apply list-none -ml-4 flex items-center gap-2;
}

.guide-content input[type="checkbox"] {
  @apply checkbox checkbox-primary checkbox-sm;
}

/* Links */
.guide-content a {
  @apply text-primary hover:text-primary-focus underline underline-offset-2;
}

/* Tables */
.guide-content table {
  @apply table w-full my-6;
}

.guide-content th {
  @apply font-semibold text-base-content bg-base-200;
}

/* Images */
.guide-content img {
  @apply rounded-lg mx-auto my-6 max-w-full;
}
</style>

<!-- Guide JavaScript for TOC and Progress -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  const tocContainer = document.getElementById('guide-toc');
  const progressBar = document.getElementById('reading-progress');
  const progressText = document.getElementById('progress-text');
  const content = document.querySelector('.guide-content');
  
  if (!tocContainer || !progressBar || !content) return;
  
  // Generate Table of Contents
  const headings = content.querySelectorAll('h2, h3');
  if (headings.length > 0) {
    headings.forEach((heading, index) => {
      // Add IDs to headings for navigation
      if (!heading.id) {
        heading.id = `heading-${index}`;
      }
      
      // Create TOC entry
      const tocItem = document.createElement('a');
      tocItem.href = `#${heading.id}`;
      tocItem.textContent = heading.textContent.replace(/^Step \d+\s*/, '');
      tocItem.className = `block py-1 px-2 rounded hover:bg-primary/10 hover:text-primary transition-colors ${
        heading.tagName === 'H2' ? 'font-medium' : 'pl-4 text-sm text-base-content/70'
      }`;
      
      tocContainer.appendChild(tocItem);
    });
  }
  
  // Reading progress
  function updateProgress() {
    const scrollTop = window.scrollY;
    const docHeight = document.documentElement.scrollHeight - window.innerHeight;
    const scrollPercent = (scrollTop / docHeight) * 100;
    
    progressBar.value = Math.max(0, Math.min(100, scrollPercent));
    progressText.textContent = `${Math.round(scrollPercent)}%`;
  }
  
  // Smooth scrolling for TOC links
  tocContainer.addEventListener('click', function(e) {
    if (e.target.tagName === 'A') {
      e.preventDefault();
      const target = document.querySelector(e.target.getAttribute('href'));
      if (target) {
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    }
  });
  
  // Update progress on scroll
  window.addEventListener('scroll', updateProgress);
  updateProgress(); // Initial call
});
</script>